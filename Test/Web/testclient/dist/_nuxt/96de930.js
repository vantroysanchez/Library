(window.webpackJsonp=window.webpackJsonp||[]).push([[7,5,6],{297:function(t,e,o){"use strict";o.r(e);var r=o(76),n=o.n(r),l=o(295),c=o.n(l),d={layout:"default",data:function(){return{showModalCreate:!1,book:{description:"",status:!0,editorialId:1,editorial:null},editorial:[{}]}},methods:{getEditorial:function(){var t=this;n.a.get("https://crudlibrary.azurewebsites.net/api/Editorial").then((function(e){t.editorial=e.data.$values}))},Save:function(){var t=this;n.a.post("https://crudlibrary.azurewebsites.net/api/Book",this.book).then((function(e){c()("Guardado","¡Información guardada satisfactoriamente!","success"),t.$router.go(0)}))}},created:function(){this.getEditorial()}},m=o(53),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-create",modifiers:{"modal-create":!0}}],staticClass:"float-right mb-3",attrs:{variant:"outline-dark"},on:{click:function(e){t.showModalCreate=!0}}},[t._v("[+] Agregar libro")]),t._v(" "),o("b-modal",{attrs:{id:"modal-create",size:"lg"},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Crear libro ")]},proxy:!0},{key:"modal-footer",fn:function(){return[o("div",{staticClass:"w-100"},[o("b-button",{staticClass:"float-right",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.Save()}}},[t._v("\n          Guardar\n        ")]),t._v(" "),o("b-button",{staticClass:"float-right",attrs:{variant:"default",size:"sm"},on:{click:function(e){t.showModalCreate=!1}}},[t._v("\n          Cerrar\n        ")])],1)]},proxy:!0}]),model:{value:t.showModalCreate,callback:function(e){t.showModalCreate=e},expression:"showModalCreate"}},[t._v(" "),o("div",[o("b-form",[o("b-row",[o("b-col",[o("label",{staticClass:"mr-sm-2",attrs:{for:"inline-form-input-name"}},[t._v("Description")]),t._v(" "),o("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-name",placeholder:"Nombre del libro"},model:{value:t.book.description,callback:function(e){t.$set(t.book,"description",e)},expression:"book.description"}})],1),t._v(" "),o("b-col",[o("label",{staticClass:"mr-sm-2"},[t._v("Editorial")]),t._v(" "),o("b-form-select",{model:{value:t.book.editorialId,callback:function(e){t.$set(t.book,"editorialId",e)},expression:"book.editorialId"}},t._l(t.editorial,(function(e,r){return o("b-form-select-option",{key:r,attrs:{value:e.id}},[t._v(t._s(e.description))])})),1)],1)],1)],1)],1)])],1)}),[],!1,null,null,null);e.default=component.exports},298:function(t,e,o){"use strict";o.r(e);var r=o(76),n=o.n(r),l=o(295),c=o.n(l),d={props:["EntityId"],layout:"default",data:function(){return{showModalEdit:!1,book:{description:"",status:!0,editorialId:1,editorial:null},editorial:[{}]}},methods:{getBook:function(t){var e=this;n.a.get("https://crudlibrary.azurewebsites.net/api/Book/".concat(t)).then((function(t){e.book=t.data}))},getEditorial:function(){var t=this;n.a.get("https://crudlibrary.azurewebsites.net/api/Editorial").then((function(e){t.editorial=e.data.$values}))},Save:function(t){var e=this;n.a.put("https://crudlibrary.azurewebsites.net/api/Book/".concat(t),this.book).then((function(t){c()("Guardado","¡Información guardada satisfactoriamente!","success"),e.$router.go(0)}))}},watch:{EntityId:function(t,e){this.getBook(t)}},created:function(){this.getEditorial()}},m=o(53),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-modal",{attrs:{id:"modal-edit",size:"lg"},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Editar libro ")]},proxy:!0},{key:"modal-footer",fn:function(){return[o("div",{staticClass:"w-100"},[o("b-button",{staticClass:"float-right",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.Save(t.book.id)}}},[t._v("\n          Guardar\n        ")]),t._v(" "),o("b-button",{staticClass:"float-right",attrs:{variant:"default",size:"sm"},on:{click:function(e){t.showModalEdit=!1}}},[t._v("\n          Cerrar\n        ")])],1)]},proxy:!0}]),model:{value:t.showModalEdit,callback:function(e){t.showModalEdit=e},expression:"showModalEdit"}},[t._v(" "),o("div",[o("b-form",[o("b-row",[o("b-col",[o("label",{staticClass:"mr-sm-2",attrs:{for:"inline-form-input-name"}},[t._v("Description")]),t._v(" "),o("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-name",placeholder:"Nombre del libro"},model:{value:t.book.description,callback:function(e){t.$set(t.book,"description",e)},expression:"book.description"}})],1),t._v(" "),o("b-col",[o("label",{staticClass:"mr-sm-2"},[t._v("Editorial")]),t._v(" "),o("b-form-select",{model:{value:t.book.editorialId,callback:function(e){t.$set(t.book,"editorialId",e)},expression:"book.editorialId"}},t._l(t.editorial,(function(e,r){return o("b-form-select-option",{key:r,attrs:{value:e.id}},[t._v(t._s(e.description))])})),1)],1),t._v(" "),o("b-col",[o("label",{staticClass:"mr-sm-2"},[t._v("Status")]),t._v(" "),o("b-form-select",{model:{value:t.book.status,callback:function(e){t.$set(t.book,"status",e)},expression:"book.status"}},[o("b-form-select-option",{attrs:{value:!0}},[t._v("Activo")]),t._v(" "),o("b-form-select-option",{attrs:{value:!1}},[t._v("Inactivo")])],1)],1)],1)],1)],1)])],1)}),[],!1,null,null,null);e.default=component.exports},303:function(t,e,o){"use strict";o.r(e);var r=o(76),n=o.n(r),l=o(297),c=o(298),d=o(295),m=o.n(d),f={components:{create:l.default,edit:c.default},layout:"default",data:function(){return{Id:1,fields:[{key:"id"},{key:"description"},{key:"status",formatter:function(t){return t?"Activo":"Inactivo"}},{key:"editorial.description",label:"Editorial"},{key:"action",label:"Action"}],items:[{}]}},methods:{getAll:function(){var t=this;n.a.get("https://crudlibrary.azurewebsites.net/api/Book").then((function(e){t.items=e.data.$values}))},edit:function(t){this.showModalEdit=!0,this.Id=t},remove:function(t){var e=this;m()({title:"Eliminar libro",text:"¿Está seguro que desea eliminar este libro?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(o){o&&n.a.delete("https://crudlibrary.azurewebsites.net/api/Book/".concat(t)).then((function(t){m()("¡Libro eliminado!",{icon:"success"}),e.$router.go(0)})).catch((function(t){m()("Ocurrió un error al eliminar el registro.",{icon:"danger"}),e.$router.go(0)}))}))}},computed:{IdEditValue:function(){return this.Id}},created:function(){this.getAll()}},v=o(53),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-card",{attrs:{title:"Libros","sub-title":"Mantenimiento de los libros"}},[o("create"),t._v(" "),o("edit",{attrs:{EntityId:t.IdEditValue}}),t._v(" "),t.items?o("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(action)",fn:function(e){return[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-edit",modifiers:{"modal-edit":!0}}],staticClass:"mr-2",attrs:{size:"sm"},on:{click:function(o){return t.edit(e.item.id)}}},[t._v("\n          Editar\n        ")]),t._v(" "),o("b-button",{staticClass:"mr-2",attrs:{size:"sm",variant:"danger"},on:{click:function(o){return t.remove(e.item.id)}}},[t._v("\n          Eliminar\n        ")])]}}],null,!1,2655288899)}):t._e()],1)],1)}),[],!1,null,"14d3bb99",null);e.default=component.exports}}]);